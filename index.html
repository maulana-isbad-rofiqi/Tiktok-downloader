<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Downloader :: Download Video TikTok Tanpa Watermark</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-dark: #000000;
            --accent-cyan: #00eaff;
            --accent-magenta: #ff0077;
            --card-bg-light: rgba(20, 20, 30, 0.04);
            --card-bg-dark: rgba(0, 0, 0, 0.6);
            --border-glow: rgba(0, 234, 255, 0.3);
            --text-light: #f0f0f0;
            --text-muted: #999;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        
        body {
            background: #000000; /* PURE BLACK lagi */
            color: var(--text-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            position: relative;
            overflow-x: hidden;
        }

        .background-grid, .starfield {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: -2;
            pointer-events: none;
        }

        .background-grid {
            background-image:
                linear-gradient(to right, rgba(0, 234, 255, 0.03) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0, 234, 255, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            animation: grid-pan 80s linear infinite;
        }

        .holographic-card {
            background: linear-gradient(145deg, var(--card-bg-light), var(--card-bg-dark));
            backdrop-filter: blur(16px);
            border: 1px solid rgba(0, 234, 255, 0.25);
            border-radius: 20px;
            padding: 35px;
            width: 100%;
            max-width: 480px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8), 0 0 50px rgba(0, 234, 255, 0.25);
        }

        h1 {
            font-family: 'Share Tech Mono', monospace;
            font-size: 1.75rem;
            letter-spacing: 3px;
            background: linear-gradient(90deg, var(--accent-cyan), #fff, var(--accent-magenta));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glitch-title 4s infinite;
        }

        @keyframes glitch-title {
            0%, 100% { text-shadow: 0 0 10px var(--accent-cyan); }
            50% { text-shadow: 0 0 20px var(--accent-magenta), 0 0 30px var(--accent-cyan); }
            2%, 98% { transform: translate(0); }
            1%, 99% { transform: translate(-2px, 2px); }
        }

        .ios-hint {
            display: none;
            background: rgba(0, 234, 255, 0.1);
            border: 1px solid var(--accent-cyan);
            color: var(--accent-cyan);
            padding: 12px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .btn-download {
            position: relative;
            overflow: hidden;
            padding: 16px;
            border-radius: 12px;
            font-weight: 700;
            color: #000;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta));
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 234, 255, 0.4);
        }

        .shine {
            position: absolute;
            top: -100%;
            left: -100%;
            width: 50%;
            height: 200%;
            background: linear-gradient(120deg, transparent, rgba(255,255,255,0.4), transparent);
            transform: skew(-20deg);
            transition: 0.7s;
        }

        .btn-download:hover .shine {
            top: -100%;
            left: 100%;
        }
    </style>
</head>
<body>

    <div class="background-grid"></div>
    <div class="starfield" id="starfield"></div>

    <div class="holographic-card">
        <div class="header" style="margin-bottom: 30px; text-align:center;">
            <i class="fab fa-tiktok logo-icon" style="font-size:3.5rem; background: linear-gradient(45deg, #00eaff, #ff0077); -webkit-background-clip: text; -webkit-text-fill-color: transparent;"></i>
            <h1 data-text="TIKTOK DOWNLOADER">TIKTOK DOWNLOADER</h1>
            <p class="subtitle" style="color:#888; font-size:0.9rem; margin-top:8px;">Tanpa watermark · Tanpa iklan · Forever.</p>
        </div>

        <div class="input-group" style="position:relative; margin-bottom:25px;">
            <input type="text" id="urlInput" placeholder="Paste TikTok link here..." autocomplete="off" style="width:100%; padding:16px 60px 16px 20px; background:rgba(0,0,0,0.6); border:1px solid rgba(0,234,255,0.3); border-radius:12px; color:white;">
            <button class="search-button" id="searchBtn" onclick="fetchVideo()" style="position:absolute; right:8px; top:8px; bottom:8px; width:48px; border:none; border-radius:10px; background:linear-gradient(45deg,var(--accent-cyan),var(--accent-magenta)); color:white;">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>

        <div class="progress-bar-container" id="progressBarContainer" style="display:none; height:8px; background:rgba(255,255,255,0.1); border-radius:8px; overflow:hidden; margin:20px 0;">
            <div class="progress-bar" style="height:100%; width:0%; background:linear-gradient(90deg,var(--accent-cyan),var(--accent-magenta)); animation:fill 2s linear infinite alternate;"></div>
        </div>

        <div id="errorMsg" class="message-box" style="display:none;"></div>

        <div id="resultArea" style="display:none;">
            <div class="meta-container" style="background:rgba(0,0,0,0.5); padding:15px; border-radius:12px; margin-bottom:20px;">
                <!-- meta content sama seperti sebelumnya -->
            </div>

            <div class="video-player-container" style="border-radius:12px; overflow:hidden; margin-bottom:20px; box-shadow:0 0 30px rgba(0,234,255,0.3);">
                <video id="videoPlayer" controls playsinline poster="" style="width:100%;"></video>
            </div>

            <div class="ios-hint" id="iosHint">
                ⚡ iOS User: Long-press pada video di atas → "Save Video" (paling cepat & langsung masuk Photos)
            </div>

            <div class="download-buttons" style="display:flex; flex-direction:column; gap:14px;">
                <a href="#" id="dlVideo" class="btn-download" download>
                    <span class="shine"></span>
                    <i class="fas fa-download"></i> DOWNLOAD VIDEO (No Watermark)
                </a>
                <a href="#" id="dlAudio" class="btn-download" style="background:rgba(255,255,255,0.12); color:white; border:1px solid rgba(255,255,255,0.2);" download>
                    <span class="shine"></span>
                    <i class="fas fa-music"></i> DOWNLOAD AUDIO ONLY (.mp3)
                </a>
            </div>

            <p style="margin-top:20px; font-size:0.8rem; color:#666; text-align:center;">
                Works perfectly on iOS · Android · Desktop<br>
                © 2025 Itsbad — Pure Cyber Edition
            </p>
        </div>
    </div>

    <script>
        // ... (script sama seperti versi sebelumnya yang kamu punya, hanya saya tambahkan 2 baris ini di renderResult):

        // Di dalam renderResult(), setelah resultArea.style.display = 'block';
        if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {
            document.getElementById('iosHint').style.display = 'block';
        }

        // Download link tetap direct + download attribute (iOS akan langsung save saat long-press atau klik ulang)
        document.getElementById('dlVideo').href = fixUrl(data.play);
        document.getElementById('dlVideo').download = 'tiktok_' + data.id + '.mp4';
        document.getElementById('dlAudio').href = fixUrl(data.music);
        document.getElementById('dlAudio').download = 'tiktok_audio_' + data.id + '.mp3';
    </script>
</body>
</html>
